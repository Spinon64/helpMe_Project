<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="css/denuncias.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/ionicons/2.0.1/css/ionicons.min.css">

    <title>Formulario de denuncias</title>
</head>
<body>
    
    <!-- NavBar -->

    <header class="header">

        <a href="#" class="logo">
            <img class="logo-cultura" src="images/LogoHelpMeLg.png" alt="">
        </a>

        <nav class="navbar">
            <div id="close" class="fas fa-times"></div>

            <a href="index.html" class="nav_item">Inicio</a>
            <a href="culturaPaz.html" class="nav_item">Cultura de paz</a>
            <a href="denuncias.html" class="nav_item">Denuncias</a>
            <a href="contacto.html" class="nav_item">Contacto</a>

        </nav>

        <div id="menu" class="fas fa-bars"></div>

    </header>


    <!-- Formulario de denuncias -->

    <form class="formulario" id="form">
        <h2 class="titulo_formulario_denuncia pb-4">Formulario de Denuncias</h2>

        <div class="pregunta" id="pregunta1">
            <label>Pregunta 1: ¿Alguna pregunta inicial?</label>
            <input type="text" name="respuesta1">
            <button type="button" onclick="mostrarPregunta('pregunta1', 'pregunta2')">Siguiente</button>
        </div>

        <div class="pregunta" id="pregunta2" style="display: none;">
            <label>Pregunta 2: ¿Otra pregunta?</label>
            <input type="text" name="respuesta2">
            <button type="button" onclick="mostrarPregunta('pregunta2', 'pregunta3')">Siguiente</button>
        </div>

        <div class="pregunta" id="pregunta3" style="display: none;">
            <label>Pregunta 3: ¿Una más?</label>
            <input type="text" name="respuesta3">
            <button type="button" onclick="guardarRespuestas()">Enviar</button>
        </div>
    </form>

    <div id="resultados" style="display: none;">
        <h2>Respuestas Guardadas</h2>
        <!-- Aquí se mostrarán las respuestas después de enviar el formulario -->
    </div>

    <!-- Footer -->

    <div class="footer-basic container-fluid">
        <footer>

            <ul class="list-inline pt-4">
                <li class="list-inline-item"><a href="index.html">Inicio</a></li>
                <li class="list-inline-item"><a href="culturaPaz.html">Cultura de Paz</a></li>
                <li class="list-inline-item"><a href="denuncias.html">Denuncias</a></li>
                <li class="list-inline-item"><a href="contacto.html">Contacto</a></li>
            </ul>

            <p class="copyright">HelpMe © 2023</p>

        </footer>
    </div>


    <!-- Script para el formulario de denuncias -->

    <script>

        // Aqui se declaran las llaves o id de emailjs 

        const EMAILJS_USER_ID = 'l3FRsmN2B-91s_7j7';
        const EMAILJS_SERVICE_ID = 'service_1f93bvs';
        const EMAILJS_TEMPLATE_ID = 'template_am8db5u';

        function mostrarPregunta(preguntaActual, preguntaSiguiente) {
            document.getElementById(preguntaActual).style.display = 'none';
            document.getElementById(preguntaSiguiente).style.display = 'block';
        }


        function guardarRespuestas() {
            var form = document.getElementById("form");
            var respuesta1 = form.elements.respuesta1.value;
            var respuesta2 = form.elements.respuesta2.value;
            var respuesta3 = form.elements.respuesta3.value;

    // Configura Email.js
    emailjs.init(EMAILJS_USER_ID);

    // Define los parámetros del correo
    var templateParams = {
        respuesta1: respuesta1,
        respuesta2: respuesta2,
        respuesta3: respuesta3
    };

    // Envía el correo electrónico
    emailjs.send(EMAILJS_SERVICE_ID, EMAILJS_TEMPLATE_ID, templateParams)
        .then(function (response) {
            alert('Respuestas enviadas por correo electrónico.');
            document.getElementById('form').reset();
        })
        .catch(function (error) {
            console.error('Error al enviar respuestas por correo:', error);
            alert('Hubo un error al enviar las respuestas por correo. Inténtalo de nuevo más tarde.');
        });
}

    </script>
    <!-- GSAP CDN Link -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/gsap.min.js"></script>
    <script src="https://cdn.emailjs.com/dist/email.min.js"></script>
    <script src="script.js"></script>

</body>
</html>
